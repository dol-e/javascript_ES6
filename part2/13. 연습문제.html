<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>class, extends, getter, setter 연습문제</title>
</head>
<body>
  <script>

    /*********************************** 연습문제 1 ***********************************/

    /*
        1. 직접 class 구조 만들어보기
        갑자기 강아지 SNS를 만들고 싶어서 자바스크립트로 열심히 코딩하던 중, 

        여러 강아지 정보들을 담은 유사한 오브젝트 자료형을 테스트삼아 몇개 만들려고 합니다. 

        

        var 강아지1 = { type : '말티즈', color : 'white' };
        var 강아지2 = { type : '진돗개', color : 'brown' }; 
        이렇게 쭉 많이 만들고 싶은데 하드코딩하기 싫어서 class를 만들어 강아지 오브젝트들을 뽑고 싶습니다.

        그럼 class를 어떻게 만드는게 좋을까요? 
    */

    class Dog {
      constructor(type, color) {
        this.type = type;
        this.color = color;
      }
    }

    var 강아지1 = new Dog("똥개", "black");


    



    

    

    

    

    

    /*********************************** 연습문제 2 ***********************************/
    /*
        2. 이번엔 고양이관련 object들을 만들고 싶습니다. 

        

        이번엔 class를 이용해 고양이 오브젝트 여러개를 뽑고 싶습니다. 

        

        var 고양이1 = { type : '코숏', color : 'white', age : 5 };
        var 고양이2 = { type : '러시안블루', color : 'brown', age : 2 }; 
        type, color는 이전에 만든 강아지 object와 유사한데

        고양이들만 특별하게 age라는 속성을 하나 더 추가하고 싶습니다. 어떻게 class를 만들면 될까요? 
3
        1번 문제에서 만들었던 강아지 class와 유사하기 때문에 extends라는 문법을 쓰는 것도 좋겠군요. 
    */

    class Cat extends Dog {
      constructor(type, color, age) {
        super(type, color);
        this.age = age;
      }
    }

    var 고양이1 = new Cat("코숏", "white", 5);

        

    

    

    

    

    
    /*********************************** 연습문제 3 ***********************************/
    /*
        3. 고양이와 강아지 object들에 기능을 하나 추가하고 싶습니다. 

        

        모든 고양이와 강아지 object들은 .한살먹기() 라는 함수를 사용할 수 있습니다. 

        (1) 한살먹기 함수는 강아지 class로부터 생성된 오브젝트가 사용하면 콘솔창에 에러를 출력해주어야합니다. 

        (2) 한살먹기 함수는 고양이 class로 부터 생성된 오브젝트가 사용하면 현재 가지고있는 age 속성에 1을 더해주는 기능을 실행해야합니다.

        

        한살먹기 함수는 어떻게 만들면 좋을까요? (검색이 필요할 수 있습니다)
    */


    
    
    class Dog2 {
      constructor(type, color) {
        this.type = type;
        this.color = color;
      }
      한살먹기(){
        if( this instanceof Cat2) { // this가 Cat2로부터 생성된 오브젝트라면 true를 반환
          this.age++
        }
      }
    }

    //a instanceof b 이렇게 쓰면 a가 b로부터 생성된 오브젝트인지 아닌지를 true/false로 알려주는 연산자

    var 강아지2 = new Dog2("말티즈", "white");


    class Cat2 extends Dog2 {
      constructor(type, color, age) {
        super(type, color);
        this.age = age;
      }
    }

    var 고양이2 = new Cat2("코숏", "white", 5);

    강아지2.한살먹기();
    고양이2.한살먹기();

    console.log(강아지2.age); // undefined
    console.log(고양이2.age); // 6

        

    

    

    

    

    

    
    /*********************************** 연습문제 4 ***********************************/
    /*
        4. get/set을 이용해봅시다

        

        자바스크립트로 간단한 게임 기능을 가진 오브젝트를 뽑는 class를 만들고 싶습니다. 

        다음 조건에 따라 class를 만들어보세요. class 이름은 Unit이라고 합시다.

        

        (1) 모든 Unit의 인스턴스는 공격력, 체력 속성이 있으며 기본 공격력은 5, 기본 체력은 100으로 설정되어 있어야 합니다.

        (2) 모든 Unit의 인스턴스는 전투력을 측정해주는 battlePoint라는 getter가 있습니다.

        console.log( 인스턴스.battlePoint ) 이렇게 사용하면 현재 공격력과 체력을 더한 값을 콘솔창에 출력해주어야합니다.

        (3) 모든 Unit의 인스턴스는 heal이라는 setter가 있습니다.

        인스턴스.heal = 50 이렇게 사용하면 체력 속성이 50 증가해야합니다. 

      
        *인스턴스는 class로부터 새로생성되는 오브젝트를 뜻합니다.
    */
    
    class Unit {
      constructor(){
        this.공격력 = 5;
        this.체력 = 100;
      }
      get battlePoint(){
        return this.공격력 + this.체력;
      }
      set heal(hp){
        this.체력 = this.체력 + parseInt(hp);
      }
    }

    var newCharacter = new Unit();
    console.log( newCharacter.battlePoint );
    newCharacter.heal = 50;
    console.log(newCharacter);



    



    

    

    

    
    /*********************************** 연습문제 5 ***********************************/
    /*
        5. get/set을 이용해봅시다2 

        

        다음과 같은 오브젝트가 있습니다. 

        var data = {
          odd : [],
          even : []
        }
        

        (1) data 오브젝트안에 setter 역할 함수를 하나 만들어보십시오.

        setter 함수에 1,2,3,4 이렇게 아무 자연수나 파라미터로 입력하면 홀수는 odd, 짝수는 even 이라는 속성에 array 형태로 저장되어야합니다.   

        (2) data 오브젝트안에 getter 역할 함수를 하나 만들어보십시오.

        getter 함수를 사용하면 odd, even에 저장된 모든 데이터들이 숫자순으로 정렬되어 출력되어야합니다. 

        

        

        예를 들면

        data.setter함수(1,2,3,4,5) 이렇게 입력하면 

        data = { odd : [1,3,5], even : [2,4] }

        이렇게 저장이 되어야합니다. 

        

        빨리 위의 역할을 하는 함수 두개를 data 오브젝트 내에 만들어보십시오. 
    */

   
    var data = {
      odd : [],
      even : [],

      // 1. setter 역할 함수
      setter함수 : function(...숫자들){ // rest파라미터로 파라미터를 배열로 만들었다.
        console.log(this) // 오브젝트 안에서 함수를 쓰면 바로 안의 this는 그 함수를 담고 있는 오브젝트를 뜻한다. this는 data오브젝트이다.
        //숫자들.forEach(function(a){  // 이렇게 쓰면 오류남.
        숫자들.forEach((a)=>{
          console.log(this) // 외부의 this값을 그대로 쓴다. this는 data오브젝트이다.
          if ( a % 2 == 1 ) {
            this.odd.push(a)  //홀수일때
          } else {
            this.even.push(a)  //짝수일때
          }
        });
      },

      // 2. getter 역할 함수
      get getter함수(){
        return [...this.odd, ...this.even ].sort((a,b)=>{
          return a - b;
        }); // spread연산자로 배열을 복사해서 합친 뒤에 sort()를 사용
      }

    };

    // forEach(function(a){ }) 이렇게 쓰면 forEach문은 그냥 전역함수인 셈이다.
    // 따라서 forEach문 안에서 this는 window를 뜻한다.
    // 반면 forEach((a)=>{ }) 이렇게 화살표 함수를 쓰면, 화살표함수 안에서 this는 외부의 this값을 그대로 쓴다.

    data.setter함수(1,4,5,11,200);

    console.log(data.getter함수);


    /////////// sort() 함수 관련 ////////////

    // sort() 함수는 문자열을 정렬하는 함수이다.
    // 그래서 [1,4,11,17,31] 이런 배열에 sort를 쓰면 이렇게 나온다.

    const arr = [1,4,11,17,31];
    console.log(arr.sort()); // [1, 11, 17, 31, 4] 숫자 맨 앞자리부터 비교해서 나열함.


    // 따라서 숫자를 정렬하려면 아래와 같이 해야 한다.
    const result = arr.sort(function(a,b){
      return a - b;
    });

    console.log("숫자정렬",result); // [1, 4, 11, 17, 31]







    






  </script>
</body>
</html>