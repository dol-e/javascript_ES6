<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>


    //****************** 예시 1 ******************
    var 어레이 = ['hello', 'world'];
    console.log(어레이)
    console.log(...어레이) // hello world
    // ...을 Spread Operator라고 한다. Array에 붙이면 대괄호를 제거해줍니다.



    //****************** 예시 2 ******************
    var 문자 = 'hello';
    console.log(문자)
    console.log(문자[0]) // 문자도 array처럼 인덱싱이 가능합니다.
    console.log(...문자)
    // 문자에 Spread Operator을 붙이면 펼쳐준다. 




    //****************** 예시 3 ******************
    var a = [1,2,3];
    var b = [4,5];
    console.log(...a);
    console.log(...b);
    var c = [...a, ...b]; // 이런 식으로 배열 a와 b를 합치거나 복사할 수 있다.
    console.log(c);





    
    //****************** Spread Operator의 쓰임새 1  ******************

    // 1. 배열 합치기 / 복사
    // 보기 편해서라기보다는 Deep Copy할 때 유용함.

    // Deep Copy란 무엇일까?

    var a = [1,2,3];
    var b = a; // a에 있는 값을 b에 복사하고 싶음. 그래서 a를 할당
    console.log(a);
    console.log(b);
    a[3] = 4; // a배열에 값을 추가했다.
    console.log(a);
    console.log(b); // 그런데, b배열의 값은 추가한 적 없는데 a 배열과 똑같이 바뀐 것을 확인할 수 있다.

    // 위와 같이 그냥 등호로 배열의 값을 복사하게 되면 두 배열이 완전히 같은 값을 지니게 된다. 값을 공유한다. 하나를 수정하면 나머지 하나도 수정된다.
    // Array나 Object는 reference data type이기 때문에 그냥 등호로 값을 복사하게 되면 공유가 일어난다.

    // 그렇다면 각각 독립적인 값을 가지도록 Array를 복사하려면?

    // 아래와 같이 Spread Operator를 사용한다. 이렇게 하는 것을 Deep Copy라고 한다. 

    var a = [1,2,3];
    var b = [...a];





    //****************** Spread Operator의 쓰임새 2  ******************

    // 2. 오브젝트 합치기 / Deep Copy

    var o1 = {a: 1, b: 2};

    // var o2를 만들 때 o1의 값을 그대로 넣으려면?

    var o2 = o1; // 이렇게 하면 안된다. 

    var o2 = {...o1};

    console.log(o2)

    // 그런데 카피하다가 값 중복이 일어나면?

    var o1 = {a: 1, b: 2};
    var o2 = {a: 2, ...o1};
    console.log(o2); // {a: 1, b: 2}
    // 값 중복이 일어나면 가장 뒤에 있는 것이 적용된다.

    var o2 = {...o1, a: 2}; // {a: 2, b: 2}
    console.log(o2);
    // 값 중복이 일어나면 가장 뒤에 있는 것이 적용된다.





    //****************** 주의사항  ******************

    // Spread Operator는 항상 중괄호 또는 대괄호 안에서만 쓸 수 있다.
    // ...o1 
    // 이렇게만 쓰면 콘솔창에 에러메시지가 뜬다









  </script>
</body>
</html>